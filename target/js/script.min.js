angular.module("app",["ngRoute","ui.bootstrap","ngSanitize","ngStorage","ngAnimate","checklist-model","nvd3","ngTouch"]),angular.module("app").config(function(t){"use strict";t.when("/login",{templateUrl:"index.html",controller:"loginCtrl"}).when("/",{templateUrl:"pages/view-list/viewList.html",controller:"viewListCtrl",title:"Overview"}).when("/view-stats",{templateUrl:"pages/view-stats/viewStats.html",controller:"viewStatsCtrl",title:"Demographics"}).when("/create-all",{templateUrl:"pages/create-all/createAll.html",controller:"createAllCtrl",title:"Set up characters, stories, events"}).when("/edit-character/:itemId/:itemName",{templateUrl:"pages/edit-character/editCharacter.html",controller:"editCharacterCtrl",title:"Edit Character"}).when("/view-character/:itemId/:itemName",{templateUrl:"pages/view-character/viewCharacter.html",controller:"viewCharacterCtrl",title:"View Character"}).when("/edit-event/:eventId",{templateUrl:"pages/edit-event/editEvent.html",controller:"editEventCtrl",title:"Edit/Add Events"}).when("/edit-event/new",{templateUrl:"pages/edit-event/editEvent.html",controller:"editEventCtrl",title:"Edit/Add Events"}).when("/edit-values",{templateUrl:"pages/edit-values/editValues.html",controller:"editValuesCtrl",title:"Edit Values"}).when("/view-events",{templateUrl:"pages/view-events/viewEvents.html",controller:"viewEventsCtrl",title:"View Events Timeline"}).when("/view-tags",{templateUrl:"pages/view-tags/viewTags.html",controller:"viewTagsCtrl",title:"All Tags"}).when("/view-list",{templateUrl:"pages/view-list/viewList.html",controller:"viewListCtrl",title:"Character List"}).when("/view-info",{templateUrl:"pages/view-info/viewInfo.html",controller:"viewInfoCtrl",title:"Information"}).when("/view-summary",{templateUrl:"pages/view-summary/viewSummary.html",controller:"viewSummaryCtrl",title:"Summary from Timeline"}).when("/view-data",{templateUrl:"pages/view-data/viewData.html",controller:"viewDataCtrl",title:"Export Data"}).otherwise({redirectTo:"/"})}),angular.module("app").run(["$window","$rootScope",function(t,e){"use strict";e.$on("$locationChangeStart",function(){t.sessionStorage.token&&"undefined"!=t.sessionStorage.token||(console.log("whoops not logged in?"),t.location.href="index.html")})}]),angular.module("app").controller("createAllCtrl",["$scope","$http","API","$window","storysFactory","eventsFactory","charactersFactory","metaFactory","statsFactory",function(t,e,a,r,n,o,s,c,i){"use strict";var d=r.sessionStorage.userId,l=a;t.storydata=n.data,t.events=o.events,t.newStory=[],t.newStory.order=t.storydata.storys.length+1,t.addStory=function(t){var e={order:t.order,title:t.title};n.addStory(e)},t.updateStory=function(t){n.updateStory(t)},t.removeStory=function(t){n.removeStory(t)},t.newstuff=[],t.importEvents=function(a){if(t.eventmessage=[],void 0===t.events)var r=1;else var r=t.events.length;for(var n=[],o=0;o<a.list.length;o++)if(n=a.list[o].split("|"),n.length<5)t.eventmessage.text="It looks like you only have "+n.length+" items in a row. If you want to skip a field, remember to use two pipes || to mark an empty field, including the final field.",t.eventmessage.type="danger";else{t.eventmessage=[],r+=1;var s={order:r,title:n[0],start:n[1],end:n[2],arc:n[3],label:n[4],user_id:d,story:a.story._id};e({method:"POST",url:l.eventsdata,data:s,headers:{"x-access-token":l.token,"Content-Type":"application/json"}}).then(function(e){t.events=e.data}),t.eventmessage.text=a.list.length+" events imported successfully!",t.eventmessage.type="success",t.newstuff=[]}},t.importCharas=function(e){t.charamessage=[];for(var a=[],r=[],n=0;n<e.length;n++){if(r=e[n].split("|"),r.length<3){t.charamessage.text="It looks like you only have "+r.length+" items in a row. Remember to use two pipes || to mark an empty value.",t.charamessage.type="danger";break}t.eventmessage=[];var o={name:r[0],age:r[1],gender:r[2],user_id:d,ochardb:[],tags:[],attendee:[],storyset:[]};a.push(o)}a.length>0&&s.addCharacters(a)}}]),angular.module("app").controller("editCharacterCtrl",["$scope","$routeParams","metaFactory","charactersFactory","storysFactory","$window","statsFactory",function(t,e,a,r,n,o,s){"use strict";function c(t,e){for(var a=0;a<e.length;a++)if(e[a].name===t)return e[a]._id}var i=e.itemId;o.sessionStorage.userId;t.metaFactory=a.meta,t.editchara=r.data.chara,t.storysFactory=n.data,r.getChara(i),t.addStorySet=function(e){t.editchara.character.roles[e].story_id=t.storysFactory.storys[e]._id},(!t.editchara.character.ochardb||t.editchara.character.ochardb.length<1)&&(t.editchara.character.ochardb=[{name:""}]),t.addOchardb=function(){t.editchara.character.ochardb.push({name:""})},t.pushTo=function(e){t.editchara.character.tags.push(e);var a=t.metaFactory.tags.indexOf(e);t.metaFactory.tags.splice(a,1)},t.removeFrom=function(e){var a=t.editchara.character.tags.indexOf(e);t.editchara.character.tags.splice(a,1)},t.addNew=function(e){""!==e&&void 0!==e&&null!==e&&-1==t.metaFactory.tags.indexOf(e)&&-1==t.editchara.character.tags.indexOf(e)&&t.editchara.character.tags.push(e),t.newtag=null},t.updateChara=function(e){if(e.attendsid=c(e.attends,t.metaFactory.names),""!==e.ochardb)for(var n=0;n<e.ochardb.length;n++)e.ochardb[n].id=c(e.ochardb[n].name,t.metaFactory.names);if(""!==e.roles)for(var n=0;n<e.roles.length;n++)0==e.roles[n].appears&&e.roles.splice(n,1);r.updateChara(e).then(function(t){a.getTags(),a.getNames(),a.getRanks(),r.getCharacterList(),s.getStats()})}}]),angular.module("app").controller("editEventCtrl",["$scope","$http","API","eventsFactory","$window","$routeParams","storysFactory","metaFactory","$location","charactersFactory",function(t,e,a,r,n,o,s,c,i,d){"use strict";function l(t,e){for(var a=0;a<t.length;a++)t[a].name===e.name&&t.splice(a,1);return t}var h=a,u=o.eventId,m=n.sessionStorage.userId;r.getEvent(u),t.changeValue=0,t.metaFactory=c.meta,t.storysFactory=s.data,t.editevent=r.data,t.updateEvent=function(t){for(var e=[],a=0;a<t.change.length;a++)if(void 0!==t.change[a].name.name){var n={char_id:t.change[a].name._id,name:t.change[a].name.name,notes:t.change[a].notes};e.push(n)}else""!==t.change[a].name&&e.push(t.change[a]);void 0!==e&&(t.change=e),r.updateEvent(t)},t.confirmEvent=function(t){void 0!==t.title&&void 0!==t.story||(r.removeEvent(t._id),i.path("/view-events"))},t.removeEvent=function(t){r.removeEvent(t._id),i.path("/view-events")},t.removeChange=function(e,a){t.editevent.eventone.change.splice(a,1)},t.addChanges=function(){t.editevent.eventone.change.push({name:""})},t.removeChar=function(t,e){l(t,e)},t.addNewCharLine=!1,t.addChar=function(e,a,r,n){"string"==typeof a?(t.addNewCharLine=!0,t.character={user_id:m,name:a,box:n,roles:[{story_id:t.editevent.eventone.story._id,appears:!0,role:r}]}):e.push(a)},t.addNewChar=function(a,r){var n=[],o=a.box;n.push(a),d.addCharacters(n),t.character={},t.addNewCharLine=!1,e({method:"GET",url:h.chariddata+"/"+a.name,headers:{"x-access-token":h.token,"Content-Type":"application/json"}}).then(function(t){var e={_id:t.data[0]._id,name:a.name};r[o].push(e)})},t.cancelChar=function(e){t.addNewCharLine=!1,t.character.name=""}}]),angular.module("app").controller("editValuesCtrl",["$scope","metaFactory",function(t,e){"use strict";t.metaFactory=e.meta,t.updateValues=function(t){delete t._id,e.updateValues(t)}}]),angular.module("app").controller("viewCharacterCtrl",["$scope","$routeParams","metaFactory","charactersFactory","storysFactory","eventsFactory",function(t,e,a,r,n,o){"use strict";var s=e.itemId;t.metaFactory=a.meta,t.viewItem=r.data.chara,t.storysFactory=n.data,t.eventsFactory=o.data,r.getChara(s),t.deleteChara=function(t){r.deleteChara(t),a.getNames()}}]),angular.module("app").controller("viewDataCtrl",["$scope","charactersFactory","eventsFactory",function(t,e,a){"use strict";t.eventsFactory=a.data,t.charactersFactory=e.data,e.getAllCharacters()}]),angular.module("app").controller("viewEventsCtrl",["$scope","$http","API","eventsFactory","metaFactory","storysFactory","$window",function(t,e,a,r,n,o,s){"use strict";function c(t,e,a){for(var r=0;r<t.length;r++)if(t[r][e]==a)return t[r].order}function i(a,n){t.checked[n]=!1,e({method:"PUT",url:l.eventsdata+"/"+a._id,data:a,headers:{"x-access-token":l.token,"Content-Type":"application/json"}}).then(function(t){r.getEventsList()})}var d=s.sessionStorage.userId,l=a;t.selectFilter={},t.selectFilter.arc="",t.selectFilter.label="",t.metaFactory=n.meta,t.storysFactory=o.data,t.eventsFactory=r.data,void 0===t.eventsFactory.events?(t.totalevent=0,console.log("no events")):(t.totalevent=Object.keys(t.eventsFactory.events).length,console.log("have events",t.totalevent)),t.checkOrder=function(e,a){t.checked={},void 0===e.follows?i(e,a):(t.orderBefore=c(t.eventsFactory.events,"_id",e.follows._id),t.orderBefore<e.order?i(e,a):(t.checked[a]=!0,t.followsTitle=e.follows.title))},t.changeOrder=function(t,e){i(t,e)},t.resetOrder=function(e){t.checked[e]=!1,r.getEventsList()},t.makeNew=function(){var e=t.totalevent+1,a={order:e,user_id:d,change:[{name:""}],speak:[],nospeak:[],reffed:[]};r.addEvent(a)},t.reorder=function(){for(var e=0;e<t.eventsFactory.events.length;e++)console.log(t.eventsFactory.events.length),t.eventsFactory.events[e].order=e+1,t.checked=[],i(t.eventsFactory.events[e],e)}}]),angular.module("app").controller("viewInfoCtrl",[function(){"use strict"}]),angular.module("app").controller("viewListCtrl",["$scope","charactersFactory","storysFactory","$http","API","metaFactory","$window",function(t,e,a,r,n,o,s){"use strict";function c(t,e){for(var a=0;a<e.length;a++)if(e[a].name===t)return e[a]._id}var i=s.sessionStorage.userId;t.selectFilter={},t.storysFactory=a.data,t.metaFactory=o.meta,t.setEditedChara=function(t){e.getChara(t)},t.addNewCharLine=!1,t.addNewChara=function(){t.addNewCharLine=!0},t.addNewChar=function(a){var r=[];a.user_id=i,a.attendsid=c(a.attends,t.metaFactory.names),r.push(a),e.addCharacters(r).then(function(a){e.getCharacterList(),o.getNames(),t.character={},t.addNewCharLine=!1})},t.cancelChar=function(e){t.addNewCharLine=!1}}]),angular.module("app").controller("viewStatsCtrl",["$scope","statsFactory","charactersFactory","$localStorage","$filter",function(t,e,a,r,n){"use strict";var o=r.storys;t.selectFilter={story:{id:o[0]._id,title:o[0].title,order:o[0].order}},e.getAllStats(o[0]._id),t.statsFactory=e.data,t.storys=r.storys,t.charactersFactory=a.data,e.getStats(),t.getStoryStats=function(t){console.log(t),e.getAllStats(t)}}]),angular.module("app").controller("viewSummaryCtrl",["$scope","eventsFactory","storysFactory",function(t,e,a){"use strict";t.data=e.data,t.storysFactory=a.data,t.summarytext=!1}]),angular.module("app").controller("viewTagsCtrl",["$scope","metaFactory","API","$http",function(t,e,a,r){"use strict";t.total={};var n=a;t.metaFactory=e.meta,angular.forEach(t.metaFactory.tags,function(e){r({method:"GET",url:n.onetagdata+"/"+e,headers:{"x-access-token":n.token}}).success(function(a){t.total[e]={category:e,data:a}})})}]),angular.module("appLogin").factory("authService",["$http","$rootScope","$location","$localStorage","$window","$httpParamSerializerJQLike",function(t,e,a,r,n,o){"use strict";var s={};return s.error=[],s.login=function(e,a){return t({method:"POST",url:"/api/authenticate",data:o({username:e,password:a}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){if(e.data.token){var a=e.data.userId,o=e.data.token;n.sessionStorage.token=o,n.sessionStorage.userId=a,t({method:"GET",url:"/api/values/"+a,headers:{"x-access-token":o}}).then(function(t){r.values=t.data[0],n.location.href="/home.html"})["catch"](function(t){s.error=t})}else s.error=e})["catch"](function(t){s.error=t})},s.register=function(e,r,n){return t({method:"POST",url:"/api/register",data:o({username:e,password:r,email:n}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){"success"==t?a.path("/login/registered"):$scope.error="Something went wrong!"+t})},s.ClearCredentials=function(){n.sessionStorage.clear(),n.location.href="/index.html"},s}]),angular.module("app").factory("API",["$window",function(t){"use strict";var e=t.sessionStorage.userId,a="http://localhost:8080/api/";return{token:t.sessionStorage.token,userId:t.sessionStorage.userId,base:a,charadata:a+"charas/"+e,storydata:a+"storys/"+e,valuesdata:a+"values/"+e,ranksdata:a+"ranks/"+e,namesdata:a+"names/"+e,eventsdata:a+"events/"+e,eventlistdata:a+"eventlist/"+e,changedata:a+"change/"+e,tagdata:a+"tags/"+e,onetagdata:a+"tagset/"+e,historydata:a+"history/"+e,statsdata:a+"stats/"+e,chariddata:a+"charname/"+e,charalinkdata:a+"charlinks/"+e}}]).filter("orderObjectBy",function(){return function(t,e,a){var r=[];return angular.forEach(t,function(t){r.push(t)}),r.sort(function(t,a){return t[e]>a[e]?1:-1}),a&&r.reverse(),r}}),angular.module("app").factory("charactersFactory",["$http","API","eventsFactory","metaFactory",function(t,e,a,r){"use strict";var n=e,o={},a=a.data;return o.data={},o.data.onlyone="",o.data.characterlist=[],o.data.allcharacters=[],o.data.chara={},o.data.chara.character={},o.data.chara.history=[],o.data.chara.roles={},o.addCharacters=function(e){return t({method:"POST",url:n.charadata,data:e,headers:{"x-access-token":n.token,"Content-Type":"application/json"}}).then(function(t){o.getCharacterList()})},o.addOneChara=function(e){return t({method:"POST",url:n.charadata,data:e,headers:{"x-access-token":n.token,"Content-Type":"application/json"}}).then(function(t){o.data.onlyone=t._id})},o.getCharacterList=function(){return t({method:"GET",url:n.charadata,headers:{"x-access-token":n.token}}).then(function(t){o.data.characterlist=t.data,r.getNames()})},o.getAllCharacters=function(){return t({method:"GET",url:n.charadata+"/all",headers:{"x-access-token":n.token}}).then(function(t){o.data.allcharacters=t.data})},o.getChara=function(e){return t({method:"GET",url:n.charadata+"/"+e,headers:{"x-access-token":n.token,"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){o.data.chara.character=t.character[0],o.data.chara.history=t.history,t.character[0].ochardb.length<1&&o.data.chara.character.ochardb.push({name:""}),o.getCharaLinks(e)})},o.getCharaLinks=function(e){return t({method:"GET",url:n.charalinkdata+"/"+e,headers:{"x-access-token":n.token,"Content-Type":"application/x-www-form-urlencoded"}}).success(function(t){o.data.chara.charlinks=t})},o.updateChara=function(e){return t({method:"PUT",url:n.charadata+"/"+e._id,data:e,headers:{"x-access-token":n.token,"Content-Type":"application/json"}}).then(function(t){o.getCharacterList()})},o.deleteChara=function(e){return t({method:"DELETE",url:n.charadata+"/"+e,headers:{"x-access-token":n.token}}).then(function(t){o.getCharacterList()})},o.getCharacterList(),o}]),angular.module("app").factory("eventsFactory",["$http","API","$location",function(t,e,a){"use strict";var r=e,n={};return n.data={},n.data.events={},n.data.eventone={},n.getAllEvents=function(){return t({method:"GET",url:r.eventsdata,headers:{"x-access-token":r.token}}).then(function(t){n.data.events=t.data})},n.getEventsList=function(){return t({method:"GET",url:r.eventlistdata,headers:{"x-access-token":r.token}}).then(function(t){n.data.list=t.data})},n.bulkEvents=function(e){return t({method:"POST",url:r.eventsdata,data:e,headers:{"x-access-token":r.token,"Content-Type":"application/json"}}).then(function(t){n.getEventsList()})},n.removeChange=function(e,a){return t({method:"PUT",url:r.changedata+"/"+a,data:e,headers:{"x-access-token":r.token,"Content-Type":"application/json"}}).then(function(t){n.getEventsList()})},n.getEvent=function(e){return t({method:"GET",url:r.eventsdata+"/"+e,headers:{"x-access-token":r.token}}).then(function(t){n.data.eventone=t.data[0],n.data.eventone.change.push({name:""})})},n.addEvent=function(e){return t({method:"POST",url:r.eventsdata+"/new",data:e,headers:{"x-access-token":r.token,"Content-Type":"application/json"}}).then(function(t){n.data.eventone=t.data,a.path("/edit-event/"+t.data._id)})},n.updateEvent=function(e){return t({method:"PUT",url:r.eventsdata+"/"+e._id,data:e,headers:{"x-access-token":r.token,"Content-Type":"application/json"}}).then(function(t){n.getEventsList()})},n.removeEvent=function(e){return t({method:"DELETE",url:r.eventsdata+"/"+e,headers:{"x-access-token":r.token,"Content-Type":"application/json"}}).then(function(t){n.getEventsList()})},n.getEventsList(),n.getAllEvents(),n}]),angular.module("app").controller("mainCtrl",["$scope","$localStorage","$http","$window","metaFactory","charactersFactory","eventsFactory","storysFactory","varsFactory",function(t,e,a,r,n,o,s,c,i){"use strict";t.isCollapsed=!0,t.displayed=!1,t.toggleMenu=function(){t.displayed=!t.displayed},t.toggleDropdown=function(e){e.preventDefault(),e.stopPropagation(),t.status.isopen=!t.status.isopen},t.radioModel="Left",t.gender=i.gender,t.role=i.role,t.participation=i.participation,t.skin=i.skin,t.listValues=i.listValues,t.charactersFactory=o.data,t.storysFactory=c.data,t.storys=e.storys,t.metaFactory=n.meta,t.eventsFactory=s.data,t.$on("$viewContentLoaded",function(){r.scrollTo(0,0)}),a.get("https://api.github.com/repos/k2lh/charateka/issues?state=open").then(function(e){t.issues=e.data})}]),angular.module("app").factory("metaFactory",["$http","API",function(t,e){"use strict";var a=e,r={};return r.meta={},r.meta.values={},r.meta.names=[],r.meta.ranks=[],r.meta.tags=[],r.getValues=function(){return t({method:"GET",url:a.valuesdata,headers:{"x-access-token":a.token}}).then(function(t){r.meta.values=t.data[0]})},r.getNames=function(){return t({method:"GET",url:a.namesdata,headers:{"x-access-token":a.token}}).then(function(t){r.meta.names=t.data})},r.getRanks=function(){var e=[],n=[];return t({method:"GET",url:a.ranksdata,headers:{"x-access-token":a.token}}).then(function(t){for(var a=t.data,o=0;o<a.length;o++){var s=a[o].rank.toLowerCase();if(void 0!==s)if(s.indexOf(", ")>-1){for(var c=s.split(", "),i=0;i<c.length;i++)c[i]=c[i].replace(/^\s+|\s+$/g,"");n=n.concat(c)}else n.push(s)}for(o=0;o<n.length;o++)-1==e.indexOf(n[o])&&(n[o].replace(/^\s+|\s+$/g,""),e.push(n[o]));e.sort(),r.meta.ranks=e})},r.getTags=function(){var e=[];return t({method:"GET",url:a.tagdata,headers:{"x-access-token":a.token}}).then(function(t){for(var a=t.data,n=0;n<a.length;n++){var o=a[n].tags;if(void 0!==o)for(var s=0;s<o.length;s++)if(-1==e.indexOf(o[s])){var c=o[s].toLowerCase();e.push(c)}}var i=e;i.sort(),r.meta.tags=i})},r.updateValues=function(e){return t({method:"PUT",url:a.valuesdata,data:e,headers:{"x-access-token":a.token}}).then(function(t){r.getValues()})},r.getValues(),r.getNames(),r.getRanks(),r.getTags(),r}]),angular.module("app").factory("statsFactory",["$http","API","$localStorage","storysFactory",function(t,e,a,r){"use strict";var n=e,o=(r.data,{});return o.data={},o.data.allStats=[],o.data.piechart1=[],o.data.piechart2=[],o.data.piechart3=[],o.data.piechart4=[],o.data.optionspie={chart:{type:"pieChart",height:400,x:function(t){return t.key},y:function(t){return t.y},showLabels:!0,growOnHover:!0,labelsOutside:!0,duration:500,labelThreshold:.01,valueFormat:function(t){return t},legend:{margin:{top:5,right:35,bottom:5,left:0}},color:["#fff191","#efb150","#da532f","#b80909","#a10833","#89025e"]}},o.data.optionsbar={chart:{type:"multiBarChart",height:300,margin:{top:20,right:20,bottom:65,left:45},clipEdge:!0,duration:500,stacked:!0,showControls:!1,staggerLabels:!1,reduceXTicks:!1,rotateLabels:45,x:function(t){return t.label},xAxis:{axisLabel:"",showMaxMin:!1,tickFormat:function(t){return t}},yAxis:{axisLabel:"# of characters",axisLabelDistance:-20,tickFormat:function(t){return t}},color:["#fff191","#efb150","#da532f","#b80909","#a10833","#89025e"]}},o.getStats=function(){return t({method:"GET",url:n.statsdata,headers:{"x-access-token":n.token}}).then(function(t){o.data.stats=t.data,o.getChart1(),o.getChart2(),o.getChart3()})},o.getAllStats=function(e){o.data.allStats=[],t({method:"GET",url:n.statsdata+"/"+e,headers:{"x-access-token":n.token}}).then(function(t){var e={id:t.data.story,order:t.data.order,data:t.data};o.data.allStats.push(e)})},o.getChart1=function(){o.data.piechart1=[{key:"women",y:o.data.stats.woman},{key:"trans women",y:o.data.stats.tmale},{key:"nonbinary",y:o.data.stats.nonbinary},{key:"agender",y:o.data.stats.agender},{key:"trans men",y:o.data.stats.twoman},{key:"men",y:o.data.stats.male}]},o.getChart2=function(){o.data.piechart2=[{key:"0-15",y:o.data.stats.age15},{key:"16-30",y:o.data.stats.age30},{key:"31-50",y:o.data.stats.age50},{key:"51-75",y:o.data.stats.age75},{key:"76-100",y:o.data.stats.age100},{key:"100+",y:o.data.stats.age101}]},o.getChart3=function(){o.data.piechart3=[{key:"white",y:o.data.stats.white},{key:"light",y:o.data.stats.light},{key:"medium",y:o.data.stats.medium},{key:"dark",y:o.data.stats.dark},{key:"black",y:o.data.stats.black}]},o}]),angular.module("app").factory("storysFactory",["$http","API","$q","$localStorage",function(t,e,a,r){"use strict";var n=e,o={};return o.data={},o.data.storys=[],o.getStoryList=function(){return t({method:"GET",url:n.storydata,headers:{"x-access-token":n.token}}).then(function(t){o.data.storys=t.data,r.storys=t.data})},o.addStory=function(e){return t({method:"POST",url:n.storydata,data:e,headers:{"x-access-token":n.token,"Content-Type":"application/json"}}).then(function(t){o.getStoryList()})},o.updateStory=function(e){return t({method:"PUT",url:n.storydata,data:e,headers:{"x-access-token":n.token,"Content-Type":"application/json"}}).then(function(t){o.getStoryList()})},o.removeStory=function(e){return t({method:"DELETE",url:n.storydata,data:e,headers:{"x-access-token":n.token,"Content-Type":"application/json"}}).then(function(t){o.getStoryList()})},o.getStoryList(),o}]),angular.module("app").factory("varsFactory",[function(){"use strict";var t={gender:["woman","male","trans woman","trans male","nonbinary","agender"],role:["primary","secondary","tertiary","background","offpage"],participation:["speaking","non-speaking","is mentioned"],skin:["dark/black","dark-brown","dark-gold","dark-olive","dark-ruddy","medium-brown","medium-gold","medium-olive","medium-ruddy","light-brown","light-gold","light-olive","light-ruddy","pale/white"],listValues:["faction","skindetail","skin","height","build","weight","gesture","handed","movement","stance","hairtype","hairlength","haircolor","eyecolor","eyedetail","eyebrows","faceshape","forehead","facehair","nose","otherface","lips","teeth","outlook","traits","fight","argue","quirks","strengthbelief","romance","intelligence","knowledge","relationship","defense"]};return t}]);